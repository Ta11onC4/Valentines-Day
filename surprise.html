<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Surprise üéÅ</title>
  <style>
    :root{
      --bg1:#fff0f5;
      --pink1:#ffccd9;
      --pink2:#ff99c8;
      --pink3:#ff4d94;
      --pink4:#ff1a75;
      --cream:#fff7fb;
      --wine:#800000;
      --cardShadow: 0 14px 28px rgba(0,0,0,0.14);
      --softBorder: 1px solid rgba(255,26,117,0.22);
    }

    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: var(--bg1);
      color: var(--wine);
      text-align:center;
      overflow-x:hidden;
      padding-bottom: 80px; /* bottom nav */
    }

    header{
      padding: 20px 16px 10px;
    }

    header h1{
      margin: 0 0 8px;
      color: var(--pink3);
      letter-spacing: 0.2px;
    }

    header p{
      margin: 0;
      color:#9a0f2f;
      line-height: 1.35;
    }

    /* Page "dissolve" transition */
    .screen{
      min-height: calc(100vh - 80px);
      display:flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      padding: 10px 14px 24px;
      opacity: 1;
      transition: opacity 700ms ease, filter 700ms ease, transform 700ms ease;
    }

    .screen.hidden{
      display:none;
    }

    .screen.fade-out{
      opacity: 0;
      filter: blur(10px);
      transform: scale(0.98);
      pointer-events:none;
    }

    .card{
      width: min(620px, 92vw);
      background: rgba(255,255,255,0.62);
      border: var(--softBorder);
      border-radius: 18px;
      box-shadow: var(--cardShadow);
      padding: 18px 14px;
      backdrop-filter: blur(6px);
      position: relative;
      overflow: hidden;
    }

    /* Cute subtle background shapes inside cards */
    .card::before{
      content:"";
      position:absolute;
      inset:-80px;
      background:
        radial-gradient(circle at 20% 25%, rgba(255,77,148,0.20), transparent 40%),
        radial-gradient(circle at 80% 20%, rgba(255,153,200,0.25), transparent 42%),
        radial-gradient(circle at 70% 85%, rgba(255,26,117,0.12), transparent 45%);
      pointer-events:none;
    }

    .card > * { position: relative; }

    .question{
      font-size: 1.3rem;
      font-weight: bold;
      color:#7a0012;
      margin: 0 0 14px;
    }

    .choices{
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin-top: 6px;
    }

    .choice{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      padding: 12px 12px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(255,204,217,0.75), rgba(255,153,200,0.60));
      border: 1px solid rgba(255,77,148,0.22);
      cursor: pointer;
      user-select:none;
      transition: transform 120ms ease, box-shadow 120ms ease, filter 120ms ease;
    }

    .choice:active{ transform: scale(0.99); }
    .choice:hover{ box-shadow: 0 10px 18px rgba(0,0,0,0.10); filter: brightness(1.02); }

    .choice-left{
      display:flex;
      align-items:center;
      gap: 10px;
      text-align:left;
      min-width: 0;
    }

    .choice-title{
      font-weight: bold;
      color:#7a0012;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .fake-checkbox{
      width: 24px;
      height: 24px;
      border-radius: 7px;
      background: rgba(255,255,255,0.80);
      border: 2px solid rgba(255,26,117,0.30);
      display:flex;
      align-items:center;
      justify-content:center;
      flex: 0 0 auto;
      font-size: 1rem;
      color: white;
    }

    .choice.selected .fake-checkbox{
      background: linear-gradient(135deg, var(--pink3), var(--pink4));
      border-color: rgba(255,26,117,0.40);
    }

    .choice-note{
      font-size: 0.9rem;
      color:#9a0f2f;
      margin-top: 10px;
      line-height: 1.35;
    }

    /* NO pop-up overlay (shows briefly then returns) */
    .no-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      display:none;
      align-items: center;
      justify-content: center;
      z-index: 1500;
      padding: 20px;
    }

    .no-pop{
      width: min(420px, 92vw);
      background: rgba(255,255,255,0.92);
      border-radius: 18px;
      border: 1px solid rgba(255,26,117,0.18);
      box-shadow: 0 16px 34px rgba(0,0,0,0.22);
      padding: 18px 14px;
      animation: popIn 220ms ease-out;
    }

    @keyframes popIn{
      from{ transform: scale(0.92); opacity: 0; }
      to{ transform: scale(1); opacity: 1; }
    }

    .no-face{
      font-size: 4.5rem;
      margin: 0;
    }
    .no-text{
      font-size: 1.7rem;
      font-weight: bold;
      margin: 6px 0 0;
      color:#7a0012;
    }
    .no-sub{
      margin: 8px 0 0;
      color:#9a0f2f;
      line-height: 1.35;
    }

    /* LOCK screen */
    .lock-badge{
      display:inline-block;
      background: linear-gradient(135deg, var(--pink3), var(--pink4));
      color: white;
      font-weight: bold;
      padding: 8px 12px;
      border-radius: 999px;
      box-shadow: 0 10px 18px rgba(255,26,117,0.18);
      margin-bottom: 10px;
    }

    .lock-title{
      font-size: 1.25rem;
      font-weight: bold;
      color:#7a0012;
      margin: 0 0 8px;
    }

    .lock-story{
      margin: 0 0 14px;
      color:#9a0f2f;
      line-height: 1.4;
      font-size: 0.95rem;
    }

    .hint-box{
      width: min(520px, 92vw);
      margin: 0 auto 14px;
      background: rgba(255,255,255,0.70);
      border: 1px dashed rgba(255,26,117,0.28);
      border-radius: 16px;
      padding: 12px 12px;
      color:#7a0012;
      line-height: 1.35;
      text-align: left;
    }

    .hint-box strong{ color:#b0123a; }

    .password-wrap{
      display:flex;
      gap: 8px;
      justify-content:center;
      align-items:center;
      flex-wrap: wrap;
      margin-top: 6px;
    }

    .password-input{
      width: min(300px, 78vw);
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,26,117,0.25);
      outline: none;
      font-size: 1rem;
      background: rgba(255,255,255,0.90);
      box-shadow: inset 0 2px 8px rgba(0,0,0,0.06);
    }

    .unlock-btn{
      border: none;
      background: linear-gradient(135deg, var(--pink3), var(--pink4));
      color: white;
      padding: 12px 14px;
      border-radius: 14px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 10px 18px rgba(255,26,117,0.20);
      transition: transform 120ms ease, filter 120ms ease;
      min-width: 110px;
    }
    .unlock-btn:active{ transform: scale(0.98); }
    .unlock-btn:hover{ filter: brightness(1.05); }

    .error{
      margin: 12px 0 0;
      color: #b00020;
      font-weight: bold;
      display:none;
    }

    /* REVEAL */
    .reveal{
      margin-top: 14px;
      display:none;
      text-align:center; /* ‚úÖ centered like you wanted */
      padding: 14px;
      border-radius: 16px;
      background: rgba(255,255,255,0.78);
      border: 1px solid rgba(255,26,117,0.18);
      animation: revealIn 260ms ease-out;
    }

    @keyframes revealIn{
      from{ transform: translateY(10px); opacity: 0; }
      to{ transform: translateY(0); opacity: 1; }
    }

    .reveal h3{
      margin: 0 0 8px;
      color:#7a0012;
      text-align:center; /* ‚úÖ keep centered */
    }
    .reveal p{
      margin: 6px 0;
      color:#9a0f2f;
      line-height: 1.35;
      text-align:center; /* ‚úÖ keep centered */
    }

    /* Confetti canvas */
    .confetti{
      position: fixed;
      inset: 0;
      pointer-events:none;
      z-index: 2000;
      display:none;
    }

    /* Bottom nav */
    .bottom-nav{
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #ffe6f0;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
      z-index: 1000;
    }

    .bottom-nav a{
      text-decoration: none;
      color: var(--wine);
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Surprise</h1>
    <p>One last thing‚Ä¶ üíñ</p>
  </header>

  <!-- Confetti -->
  <canvas id="confetti" class="confetti"></canvas>

  <!-- NO overlay popup -->
  <div class="no-overlay" id="noOverlay" aria-hidden="true">
    <div class="no-pop">
      <p class="no-face">‚òπÔ∏è</p>
      <p class="no-text">Aw man</p>
      <p class="no-sub" id="noSub">I‚Äôm gonna pretend I didn‚Äôt see that üòÖ</p>
    </div>
  </div>

  <!-- SCREEN 1: Question -->
  <section id="screenAsk" class="screen">
    <div class="card">
      <div class="question">Will you be my Valentine?</div>

      <div class="choices">
        <div class="choice" id="choiceYes" role="button" tabindex="0">
          <div class="choice-left">
            <div class="fake-checkbox" aria-hidden="true"></div>
            <div class="choice-title">Yes</div>
          </div>
        </div>

        <div class="choice" id="choiceNo" role="button" tabindex="0">
          <div class="choice-left">
            <div class="fake-checkbox" aria-hidden="true"></div>
            <div class="choice-title">No</div>
          </div>
        </div>
      </div>

      <div class="choice-note">Choose carefully‚Ä¶ this is a very important question </div>
    </div>
  </section>

  <!-- SCREEN 2: LOCK -->
  <section id="screenLock" class="screen hidden">
    <div class="card">
      <div class="lock-badge">MISSION: RECOVER THE SURPRISE</div>
      <p class="lock-title">Oh no! The surprise has been stolen! üò±</p>
      <p class="lock-story">
        A sneaky Valentine Roxygirl üê∂ ran off with your gift.
        The only way to get it back is to enter the correct password and unlock the vault.
      </p>

      <div class="hint-box">
        <strong>Hint:</strong> It‚Äôs our anniversary date. :)
        <br><strong>Example format:</strong> 06/1/2000
      </div>

      <div class="password-wrap">
        <input
          class="password-input"
          id="password"
          type="password"
          placeholder="Enter the password‚Ä¶"
          autocomplete="off"
        />
        <button class="unlock-btn" id="unlockBtn">Unlock</button>
      </div>

      <p class="error" id="errorMsg">Nope üòÖ try again (hint: anniversary date)</p>

      <div class="reveal" id="revealBox">
        <h3>You did it!! üíñ You earned yourself a date:</h3>
        <p><strong>Where & Where:</strong> <span id="annivOut">[set this]</span></p>
        <p><strong>With Who:</strong> <span id="planOut">[set this]</span></p>
        <p><strong>P.S:</strong> <span id="msgOut">[set this]</span></p>
      </div>
    </div>
  </section>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="index.html">üè† Home</a>
    <a href="memories.html">üì∏ Memories</a>
    <a href="love.html">üíñ Love</a>
    <a href="music.html">üéµ Music</a>
    <a href="surprise.html">üéÅ Surprise</a>
  </nav>

  <script>
    // ===========================
    // ‚úÖ EDIT THESE VALUES
    // ===========================
    // Password is whatever you want her to type.
    // Tip: pick ONE format and keep the hint consistent
    const CORRECT_PASSWORD = "11/17/2023";

    // What shows after she unlocks:
    const ANNIVERSARY_TEXT = "Bella Bellaaaas, Tonight!";
    const PLAN_TEXT = "Your Loving Husbandüòä ";
    const MESSAGE_TEXT = "I love you more than words. Happy Valentine‚Äôs Day ‚ù§Ô∏è";
    // ===========================

    const screenAsk = document.getElementById("screenAsk");
    const screenLock = document.getElementById("screenLock");

    const choiceYes = document.getElementById("choiceYes");
    const choiceNo = document.getElementById("choiceNo");

    const noOverlay = document.getElementById("noOverlay");
    const noSub = document.getElementById("noSub");

    const password = document.getElementById("password");
    const unlockBtn = document.getElementById("unlockBtn");
    const errorMsg = document.getElementById("errorMsg");
    const revealBox = document.getElementById("revealBox");

    const annivOut = document.getElementById("annivOut");
    const planOut = document.getElementById("planOut");
    const msgOut = document.getElementById("msgOut");

    const confettiCanvas = document.getElementById("confetti");
    const ctx = confettiCanvas.getContext("2d");

    function resizeConfetti(){
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeConfetti);
    resizeConfetti();

    function dissolveTo(fromEl, toEl){
      fromEl.classList.add("fade-out");
      setTimeout(() => {
        fromEl.classList.add("hidden");
        fromEl.classList.remove("fade-out");
        toEl.classList.remove("hidden");
      }, 720);
    }

    function clearSelection(){
      choiceYes.classList.remove("selected");
      choiceNo.classList.remove("selected");
      choiceYes.querySelector(".fake-checkbox").textContent = "";
      choiceNo.querySelector(".fake-checkbox").textContent = "";
    }

    function setSelected(which){
      clearSelection();
      which.classList.add("selected");
      which.querySelector(".fake-checkbox").textContent = "‚úì";
    }

    // --- YES path ---
    function handleYes(){
      setSelected(choiceYes);
      setTimeout(() => dissolveTo(screenAsk, screenLock), 200);
      setTimeout(() => password.focus(), 950);
    }

    // --- NO path (popup for a few seconds then return) ---
    const funnyLines = [
      "I‚Äôm gonna pretend I didn‚Äôt see that ",
      "Wrong button, ma‚Äôam ",
      "That button is broken‚Ä¶ try the other one ",
      "The page is now sad. Very sad. ‚òπÔ∏è",
      "Okay okay‚Ä¶ I forgive you "
    ];
    let funnyIndex = 0;
    let noTimer = null;

    function showNoPopup(){
      setSelected(choiceNo);

      funnyIndex = (funnyIndex + 1) % funnyLines.length;
      noSub.textContent = funnyLines[funnyIndex];

      noOverlay.style.display = "flex";
      noOverlay.setAttribute("aria-hidden", "false");

      // After 2.5 seconds: hide popup and return to checkboxes
      if (noTimer) clearTimeout(noTimer);
      noTimer = setTimeout(() => {
        noOverlay.style.display = "none";
        noOverlay.setAttribute("aria-hidden", "true");
        clearSelection();
      }, 2500);
    }

    choiceYes.addEventListener("click", handleYes);
    choiceNo.addEventListener("click", showNoPopup);

    // keyboard support
    choiceYes.addEventListener("keydown", (e) => { if(e.key === "Enter" || e.key === " ") handleYes(); });
    choiceNo.addEventListener("keydown", (e) => { if(e.key === "Enter" || e.key === " ") showNoPopup(); });

    // Unlock logic
    function normalize(s){
      return (s || "").trim();
    }

    function doUnlock(){
      const entered = normalize(password.value);
      if (entered === normalize(CORRECT_PASSWORD)) {
        errorMsg.style.display = "none";

        // Fill reveal content
        annivOut.textContent = ANNIVERSARY_TEXT;
        planOut.textContent = PLAN_TEXT;
        msgOut.textContent = MESSAGE_TEXT;

        // Reveal + confetti
        revealBox.style.display = "block";
        launchConfetti();
      } else {
        errorMsg.style.display = "block";
        revealBox.style.display = "none";

        // little shake
        password.animate(
          [
            { transform: "translateX(0px)" },
            { transform: "translateX(-8px)" },
            { transform: "translateX(8px)" },
            { transform: "translateX(-6px)" },
            { transform: "translateX(6px)" },
            { transform: "translateX(0px)" },
          ],
          { duration: 420, easing: "ease-in-out" }
        );
      }
    }

    unlockBtn.addEventListener("click", doUnlock);
    password.addEventListener("keydown", (e) => {
      if (e.key === "Enter") doUnlock();
    });

    // Confetti (simple + pretty)
    function launchConfetti(){
      confettiCanvas.style.display = "block";

      const pieces = [];
      const colors = ["#ff4d94", "#ff1a75", "#ffffff", "#ffd1e6", "#ff99c8"];
      const count = 180;

      for (let i = 0; i < count; i++){
        pieces.push({
          x: Math.random() * confettiCanvas.width,
          y: -20 - Math.random() * confettiCanvas.height * 0.3,
          w: 6 + Math.random() * 8,
          h: 8 + Math.random() * 10,
          color: colors[Math.floor(Math.random() * colors.length)],
          vx: (Math.random() - 0.5) * 2,
          vy: 2 + Math.random() * 4,
          rot: Math.random() * Math.PI,
          vr: (Math.random() - 0.5) * 0.2
        });
      }

      const start = performance.now();
      const duration = 2200;

      function frame(t){
        const elapsed = t - start;
        ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);

        pieces.forEach(p => {
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        });

        if (elapsed < duration){
          requestAnimationFrame(frame);
        } else {
          ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
          confettiCanvas.style.display = "none";
        }
      }
      requestAnimationFrame(frame);
    }
  </script>
</body>
</html>
